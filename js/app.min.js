//<reference path="lib/angular.min.js"/>
angular.module('home', []);
angular.module('learning',[]);
angular.module('blogger', []);
angular
    .module('learning')
    .controller('learningCtrl', ['$scope','learningService', function($scope, learningService){
        $scope.items = learningService.get();
    }]);
angular.module('blogger')
        .controller('blogCtrl', ['$scope', 'blogService', function($scope, blogService) {
                $scope.title = 'Blog';
                var result = blogService.get();
                
                result.then(function(posts){
                    $scope.posts = posts;
                }, function(posts){
                    $scope.error = 'there was an error loading recent posts';
                });

            }]);
angular.module('home')
        .controller('homeCtrl', function(){});
angular.module("blogger")
        .factory("blogService", ["$q", function($q) {

                var posts = [
                    {
                        title: 'Mapping providers for web applications',
                        description: 'While working on a project, we had a requirement to display geo-spatial data. I tried coming up with...',
                        url : 'http://frictionlesspulley.blogspot.com/2014/06/map-providers-for-applications.html'
                    }
                ];

                var getPosts = function() {
                    var deferred = $q.defer();

                    deferred.resolve(posts);

                    return deferred.promise;
                };

                return {
                    get: getPosts
                };
            }]);
angular.module('learning')
        .factory('learningService', [function() {
                var topics = [
                    {
                        _id: 1,
                        title: 'Angular'
                    },
                    {
                        _id: 2,
                        title: 'Distributed Systems'
                    },
                    {
                        _id: 3,
                        title: 'Mobile Development using ionic framework'
                    },
                    {
                        _id: 4,
                        title: 'Advanced Topics in ASP.NET MVC'
                    }
                ];

                return {
                    get: function() {
                        return topics;
                    }
                };
            }]);